# DCMapImageScaler
这是一个将您的图片转换成适合于Minecraft地图画尺寸的小工具，同时添加了DCB计费。它可以将普通图片转换为适合在 Minecraft 中制作地图画的格式，并提供实装预览功能。

## 功能特点

- 图片缩放：将图片调整为 Minecraft 地图画所需的尺寸（128像素的倍数）
- 实装预览：支持普通预览和实装预览两种模式
- 价格计算：自动计算制作地图画所需的游戏币（DCB）
- 拖放支持：支持直接拖放图片文件到程序窗口
- 进度显示：实装预览渲染时使用多线程，并显示进度条

## 项目结构

```
├── control_panel.py      # 控制面板 UI 组件
├── main.py               # 主应用程序
├── image_utils.py        # 图片处理工具
├── preview_canvas.py     # 预览画布组件
```

## 使用说明

1. 启动程序后，可以通过以下方式导入图片：
   - 点击"浏览..."按钮选择图片文件
   - 直接将图片文件拖放到程序窗口

2. 调整图片大小：
   - 使用宽度和高度倍数控制（1 倍 = 128 像素）
   - 程序会自动计算最终尺寸和所需价格

3. 预览模式：
   - 普通预览：显示缩放后的原始图片
   - 实装预览：显示转换为 Minecraft 地图画后的效果（目前由于与Minecraft游戏内算法不一样，效果是不太一致的）

4. 保存图片：
   - 点击"另存为图片"按钮
   - 选择保存位置和格式（支持 PNG、JPG 等格式）

## 技术细节

### 图片处理

- 使用 PIL (Python Imaging Library) 进行图片处理
- 支持多种图片格式（PNG、JPG、JPEG、GIF、BMP）
- 采用 LANCZOS 重采样算法确保最佳图片质量

### 用户界面

- 使用 tkinter 构建图形界面
- 支持实装预览和进度显示
- 多线程处理避免界面卡顿

## 注意事项

1. 图片尺寸限制：
   - 宽度和高度必须是 128 像素的整数倍（一格地图画的像素就是128*128）
   - 建议不要超过 20 倍（2560x2560 像素）

2. 预览模式切换：
   - 单击选项切换预览模式
   - 实装预览通过多线程渲染，显示进度条。

3. 价格计算：
   - 价格与地图画的面积成正比
   - 单格地图画的基础价格为 50 DCB

## 开发环境

- Python 3.6+
- 依赖库：
  - PIL (Pillow)
  - tkinter
  - tkinterdnd2

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目。在提交代码时，请确保：

1. 代码符合 PEP 8 规范
2. 添加必要的注释和文档
3. 确保所有测试通过
